<h1>convert</h1>
<pre>
Convert makes modification in the json stored in a variable
It has the parameters as follows:
{
    "source" {<a href="json-source.html">json source</a>}
    "result" string, the name of the variable to store the result
    "add" array of {<a href="json-source.html">json source</a>}, adding looks like
         updating, but depends on ids specified in json-source.html for arrays
    "replace" array of {<a href="json-source.html">json source</a>}
    "update" array of {<a href="json-source.html">json source</a>}
    "remove" array of strings, each string identifies the path to be removed
    "filter" {
       "condition", string, condition to be evaluated for each item
       "set", array of strings, variables to be set
       "unset", array of strings, variables to be unset
       "no_empty", true or false (default). If true, empty records are removed
     } filters out the object or array by the condition and/or set/unset fields
    "push" array of {<a href="json-source.html">json source</a>}, to array next elements are added,
    "concat" array of {<a href="json-source.html">json source</a>} concatenation of arrays
    "replace_block" {
         "find_object" string name of the variable of object to be found
         "find_condition" string, condition to be verified
         "is_last" bool, the search is done until the last is found if true
         "replace_with" object to replace with
         "replace_mode" string: "before", "after" or "at" the place to replace, "after" is default
         "in_default" string: "ignore", "push","unshift", "error", the default is "error"
    }
    "for_each" read <a href="convert-foreach.html">here</a>
}
Example:
    ACTION_CONVERT_1=convert:{"source":"JSON_SRC", "remove":["0.value"],"result":"JSON_RESULT"}
    ACTION_CONVERT_2=convert:{"source":"S", "add":[{"var":"X"}],"result":"S"}
    ACTION_CONVERT_3=convert:{"source":"S.0.value", "replace":[{"var":"X"}],"result":"Y.pool.0"}
    ACTION_CONVERT_4=convert:{"source":"S", "update":[{"var":"X"}],"result":"S"}
</pre>
